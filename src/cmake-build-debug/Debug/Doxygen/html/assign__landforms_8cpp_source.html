<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CoastalME (Coastal Modelling Environment): assign_landforms.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CoastalME (Coastal Modelling Environment)
   </div>
   <div id="projectbrief">Simulates the long-term behaviour of complex coastlines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">assign_landforms.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="assign__landforms_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*===============================================================================================================================</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> This file is part of CoastalME, the Coastal Modelling Environment.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> CoastalME is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">===============================================================================================================================*/</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// #include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using</span> std::cout;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using</span> std::cerr;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using</span> std::endl;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cme_8h.html">cme.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="simulation_8h.html">simulation.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="coast_8h.html">coast.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cliff_8h.html">cliff.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="drift_8h.html">drift.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intervention_8h.html">intervention.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*==============================================================================================================================</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> Each timestep, classify coastal landforms and assign a coastal landform object to every point on every coastline. If, for a given cell, the coastal landform class has not changed then it inherits values from the previous timestep</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">===============================================================================================================================*/</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keywordtype">int</span> CSimulation::nAssignAllCoastalLandforms(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="comment">// For each coastline, put a coastal landform at every point along the coastline</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nCoast = 0; nCoast &lt; static_cast&lt;int&gt;(m_VCoast.size()); nCoast++)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; m_VCoast[nCoast].nGetCoastlineSize(); j++)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;         <span class="comment">// Get the coords of the grid cell marked as coastline for the coastal landform object</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;         <span class="keywordtype">int</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            nX = m_VCoast[nCoast].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetX(),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            nY = m_VCoast[nCoast].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetY();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         <span class="comment">// Store the coastline number and the number of the coastline point in the cell so we can get these quickly later</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a3690af9ff283365f80221e193438d1ad">SetCoast</a>(nCoast);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#ab3563c3cc3cd8bee90bfbb4ff558310c">SetPointOnCoast</a>(j);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;         <span class="comment">// OK, start assigning coastal landforms. First, is there an intervention here?</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;         <span class="keywordflow">if</span> (m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>() == <a class="code" href="cme_8h.html#afb9499d46447e0115ed3abc66ce28a7d">LF_CAT_INTERVENTION</a> || m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a6d9ce76438644be9fe4aa5b4f7efea3e">dGetInterventionHeight</a>() &gt; 0)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;         {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="comment">// There is, so create an intervention object on the vector coastline with these attributes</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pIntervention = <span class="keyword">new</span> <a class="code" href="class_c_r_w_intervention.html">CRWIntervention</a>(&amp;m_VCoast[nCoast], nCoast, j);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            m_VCoast[nCoast].AppendCoastLandform(pIntervention);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//             LogStream &lt;&lt; j &lt;&lt; &quot; [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory() &lt;&lt; &quot; &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetInterventionHeight() &lt;&lt; endl;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;         }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         <span class="comment">// OK this landform is something other than an intervention. So check what we have at SWL on this cell: is it unconsolidated or consolidated sediment? Note that layer 0 is the first layer above basement</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         <span class="keywordtype">int</span> nLayer = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a861c4641b31bb1f920daa863a98ea35c">nGetLayerAtElev</a>(m_dThisIterSWL);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         <span class="keywordflow">if</span> (nLayer == <a class="code" href="cme_8h.html#aced815d3e3aed93353376983f4295d75">ELEV_IN_BASEMENT</a>)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="comment">// Should never happen</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="class_c_simulation.html#a222962121613613a48f518e0c2110f21">LogStream</a> &lt;&lt; m_ulIter &lt;&lt; <span class="stringliteral">&quot;: SWL (&quot;</span> &lt;&lt; m_dThisIterSWL &lt;&lt; <span class="stringliteral">&quot;) is in basement on cell [&quot;</span> &lt;&lt; nX &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; nY &lt;&lt; <span class="stringliteral">&quot;] = {&quot;</span> &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; <span class="stringliteral">&quot;}, cannot assign coastal landform for coastline &quot;</span> &lt;&lt; nCoast &lt;&lt; endl;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;         }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nLayer == <a class="code" href="cme_8h.html#a1a0f3745fbc2e50a9f483893339c9f75">ELEV_ABOVE_SEDIMENT_TOP</a>)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;         {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="comment">// Again, should never happen</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <a class="code" href="class_c_simulation.html#a222962121613613a48f518e0c2110f21">LogStream</a> &lt;&lt; m_ulIter &lt;&lt; <span class="stringliteral">&quot;: SWL (&quot;</span> &lt;&lt; m_dThisIterSWL &lt;&lt; <span class="stringliteral">&quot;) is above sediment-top elevation (&quot;</span> &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a6387aaac391af63a9f2be1c809ce169c">dGetSedimentTopElev</a>() &lt;&lt; <span class="stringliteral">&quot;) on cell [&quot;</span> &lt;&lt; nX &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; nY &lt;&lt; <span class="stringliteral">&quot;] = {&quot;</span> &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; <span class="stringliteral">&quot;}, cannot assign coastal landform for coastline &quot;</span> &lt;&lt; nCoast &lt;&lt; endl;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;         }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;         <span class="keywordtype">double</span> dConsSedTop = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af81bd1114fb19617a232c7a901366301">dGetConsSedTopForLayerAboveBasement</a>(nLayer);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         <span class="keywordtype">bool</span> bConsSedAtSWL = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;         <span class="keywordflow">if</span> (dConsSedTop &gt;= m_dThisIterSWL)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            bConsSedAtSWL = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;         <span class="keywordflow">if</span> (m_ulIter == 1)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="comment">// The first timestep: no coastal landforms (other than interventions) already exist, so no grid cells are flagged with coastal landform attributes. So we must update the grid now using the initial values for the coastal landform object&#39;s attributes, ready for nLandformToGrid() at the end of the first timestep</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> (bConsSedAtSWL)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;               <span class="comment">// First timestep: we have consolidated sediment at SWL, so this is a cliff cell. Set some initial values for the cliff object&#39;s attributes</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;               m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;               m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a6877301af94f663f342249dfec1b93b5">SetCliffNotchBaseElev</a>(m_dThisIterSWL);      <span class="comment">// APayo March 2018 replaced m_dMinSWL by m_dThisIterSWL</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;               m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a9124e31d575f2a2724d9565041d9afb6">SetCliffNotchOverhang</a>(0);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;               m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#aa8d4d835b4b0a0d9d8f067ae41aa04a9">SetCliffRemaining</a>(m_dCellSide);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;               <span class="comment">// Create a cliff object on the vector coastline with these attributes</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;               <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pCliff = <span class="keyword">new</span> <a class="code" href="class_c_r_w_cliff.html">CRWCliff</a>(&amp;m_VCoast[nCoast], nCoast, j, m_dCellSide, m_dThisIterSWL, 0, 0);   <span class="comment">// APayo March 2018 replaced m_dMinSWL by m_dThisIterSWL</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;               m_VCoast[nCoast].AppendCoastLandform(pCliff);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;               <span class="comment">// First timestep: we have unconsolidated sediment at SWL, so this is a drift cell: create a drift object on the vector coastline with these attributes</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;               <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pDrift = <span class="keyword">new</span> <a class="code" href="class_c_r_w_drift.html">CRWDrift</a>(&amp;m_VCoast[nCoast], nCoast, j);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;               m_VCoast[nCoast].AppendCoastLandform(pDrift);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;               <span class="comment">// Safety check</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;               <span class="keywordflow">if</span> (m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>() != <a class="code" href="cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: DRIFT CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;         }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;         <span class="keywordflow">else</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="comment">// This not the first timestep</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">if</span> (bConsSedAtSWL)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;               <span class="comment">// We have consolidated sediment at SWL, so this is a cliff cell. Set some default values</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;               <span class="keywordtype">double</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                  dAccumWaveEnergy  = 0,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                  dNotchBaseElev    = m_dThisIterSWL, <span class="comment">// APayo March 2018 replaced m_dMinSWL by m_dThisIterSWL</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                  dNotchOverhang    = 0,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                  dRemaining        = m_dCellSide;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;               <span class="comment">// Get the existing landform category of this cell</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;               <span class="keywordflow">if</span> (m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>() == <a class="code" href="cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;               {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                  <span class="comment">// This cell was a cliff in a previous timestep, so get the data stored in the cell, this will be stored in the cliff object on the vector coastline</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                  dAccumWaveEnergy = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a80eb57f3526c1f5922f857803935bd61">dGetAccumWaveEnergy</a>(),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                  dNotchOverhang   = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a96ad45ae2ea374e73bd73e11020fe798">dGetCliffNotchOverhang</a>(),</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                  dNotchBaseElev   = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a9449e37adff5a6643b9c9addac60f30d">dGetCliffNotchBaseElev</a>(),</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                  dRemaining       = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a403cffc810566b8fe058b10275a04e32">dGetCliffRemaining</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//                   LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF RE-CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;               }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;               <span class="keywordflow">else</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;               {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                  <span class="comment">// This cell was not a cliff object in a previous timestep, so mark it as one now and set the cell with the default values for the cliff object&#39;s attributes</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                  dAccumWaveEnergy = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a80eb57f3526c1f5922f857803935bd61">dGetAccumWaveEnergy</a>(),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a9124e31d575f2a2724d9565041d9afb6">SetCliffNotchOverhang</a>(dNotchOverhang);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a6877301af94f663f342249dfec1b93b5">SetCliffNotchBaseElev</a>(dNotchBaseElev);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#aa8d4d835b4b0a0d9d8f067ae41aa04a9">SetCliffRemaining</a>(dRemaining);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//                   LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;               }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;               <span class="comment">// Create a cliff object on the vector coastline with these attributes</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;               <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pCliff = <span class="keyword">new</span> <a class="code" href="class_c_r_w_cliff.html">CRWCliff</a>(&amp;m_VCoast[nCoast], nCoast, j, dRemaining, dNotchBaseElev, dNotchOverhang, dAccumWaveEnergy);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;               m_VCoast[nCoast].AppendCoastLandform(pCliff);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;               <span class="comment">// We have unconsolidated sediment at SWL, so this is a drift cell: create a drift object on the vector coastline with these attributes</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;               <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pDrift = <span class="keyword">new</span> <a class="code" href="class_c_r_w_drift.html">CRWDrift</a>(&amp;m_VCoast[nCoast], nCoast, j);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;               m_VCoast[nCoast].AppendCoastLandform(pDrift);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;               <span class="comment">// Safety check</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;               <span class="keywordflow">if</span> (m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>() != <a class="code" href="cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                  m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: DRIFT CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">//    // DEBUG CODE ============================================================================</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">//    for (int i = 0; i &lt; static_cast&lt;int&gt;(m_VCoast.size()); i++)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">//    {</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">//       for (int j = 0; j &lt; m_VCoast[i].nGetCoastlineSize(); j++)</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">//       {</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">//          int</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">//             nX = m_VCoast[i].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetX(),</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">//             nY = m_VCoast[i].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetY();</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">//          LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: coast cell &quot; &lt;&lt; j &lt;&lt; &quot; at [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} has landform category = &quot;;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">//          int</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">//             nCat = m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory(),</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">//             nSubCat = m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFSubCategory();</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">//          switch (nCat)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//          case LF_CAT_HINTERLAND:</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;hinterland&quot;;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">//          case LF_CAT_SEA:</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;sea&quot;;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">//          case LF_CAT_CLIFF:</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;cliff&quot;;</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">//          case LF_CAT_DRIFT:</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;drift&quot;;</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">//          case LF_CAT_INTERVENTION:</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;intervention&quot;;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">//          case LF_NONE:</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;none&quot;;</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">//          default:</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;NONE&quot;;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">//          LogStream &lt;&lt; &quot; and landform subcategory = &quot;;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">//          switch (nSubCat)</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//          case LF_SUBCAT_CLIFF_ON_COASTLINE:</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;cliff on coastline&quot;;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">//          case LF_SUBCAT_CLIFF_INLAND:</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;cliff inland&quot;;</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">//          case LF_SUBCAT_DRIFT_MIXED:</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;mixed drift&quot;;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">//          case LF_SUBCAT_DRIFT_TALUS:</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;talus&quot;;</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">//          case LF_SUBCAT_DRIFT_BEACH:</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;beach&quot;;</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">//          case LF_SUBCAT_DRIFT_DUNES:</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;dunes&quot;;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">//          case LF_SUBCAT_INTERVENTION_STRUCT:</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;structural intervention&quot;;</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//          case LF_SUBCAT_INTERVENTION_NON_STRUCT:</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;non-structural intervention&quot;;</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">//          case LF_NONE:</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;none&quot;;</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//          default:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">//             LogStream &lt;&lt; &quot;NONE&quot;;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//             break;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//          LogStream &lt;&lt; endl;</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//       }</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//    }</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">//    // DEBUG CODE ============================================================================</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/*===============================================================================================================================</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> At the end of each timestep, this routine stores the attributes from a single coastal landform object in the grid cell &#39;under&#39; the object, ready for the next timestep</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">===============================================================================================================================*/</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">int</span> CSimulation::nLandformToGrid(<span class="keywordtype">int</span> <span class="keyword">const</span> nCoast, <span class="keywordtype">int</span> <span class="keyword">const</span> nPoint)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="comment">// What is the coastal landform here?</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <a class="code" href="class_c_a_coast_landform.html">CACoastLandform</a>* pCoastLandform = m_VCoast[nCoast].pGetCoastLandform(nPoint);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordtype">int</span> nCategory = pCoastLandform-&gt;<a class="code" href="class_c_a_coast_landform.html#ac161cb56a83d653b651aa08173a1f1ca">nGetLandFormCategory</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (nCategory == <a class="code" href="cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">// It&#39;s a cliff</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="class_c_r_w_cliff.html">CRWCliff</a>* pCliff = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="class_c_r_w_cliff.html">CRWCliff</a>*<span class="keyword">&gt;</span>(pCoastLandform);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">// Get attribute values from the cliff object</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordtype">double</span> dNotchBaseElev = pCliff-&gt;<a class="code" href="class_c_r_w_cliff.html#a70151d708b933a25eb7836d63cea7f8b">dGetNotchBaseElev</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordtype">double</span> dNotchOverhang = pCliff-&gt;<a class="code" href="class_c_r_w_cliff.html#ad9493fc02ecb5893c165915d385f3174">dGetNotchOverhang</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordtype">double</span> dRemaining = pCliff-&gt;<a class="code" href="class_c_r_w_cliff.html#abdce12006e217f4d250bf00a95026264">dGetRemaining</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordtype">int</span> nX = m_VCoast[nCoast].pPtiGetCellMarkedAsCoastline(nPoint)-&gt;nGetX();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordtype">int</span> nY = m_VCoast[nCoast].pPtiGetCellMarkedAsCoastline(nPoint)-&gt;nGetY();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (pCliff-&gt;<a class="code" href="class_c_r_w_cliff.html#a274e3f5cd68331c6294496cf1da84371">bAllSedimentGone</a>())</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">//         cout &lt;&lt; m_ulIter &lt;&lt; &quot;: cell [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] before removing cliff, dGetVolEquivSedTopElev() = &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetVolEquivSedTopElev() &lt;&lt; &quot;, dGetSedimentTopElev() = &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetSedimentTopElev() &lt;&lt; endl;</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         <span class="comment">// All the sediment is gone from this cliff object via cliff collapse, so this cell is no longer a cliff</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#ac5d9498617744cedb2c882fd2c2c6924">SetInContiguousSea</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         <span class="comment">// Check the x-y extremities of the contiguous sea for the bounding box (used later in wave propagation)</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         <span class="keywordflow">if</span> (nX &lt; m_nXMinBoundingBox)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            m_nXMinBoundingBox = nX;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         <span class="keywordflow">if</span> (nX &gt; m_nXMaxBoundingBox)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            m_nXMaxBoundingBox = nX;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;         <span class="keywordflow">if</span> (nY &lt; m_nYMinBoundingBox)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            m_nYMinBoundingBox = nY;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         <span class="keywordflow">if</span> (nY &gt; m_nYMaxBoundingBox)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            m_nYMaxBoundingBox = nY;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">//          LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF REMOVED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} is no longer a cliff landform&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         <span class="keywordtype">int</span> nTopLayer = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a1ecc8e7cd32f168781ff206f19c7615e">nGetTopLayerAboveBasement</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <span class="comment">// Safety check</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         <span class="keywordflow">if</span> (nTopLayer == <a class="code" href="cme_8h.html#a01aa8b423260b337ddff2016107b51a0">INT_NODATA</a>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#a0af2b64c1c33dbf4d223944b0bf234e6">RTN_ERR_NO_TOP_LAYER</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         <span class="comment">// Remove all sediment</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt;= nTopLayer; n++)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a65dc08df7cf712555b94d91157431965">pGetLayerAboveBasement</a>(n)-&gt;<a class="code" href="class_c_r_w_cell_layer.html#aabad3a69d7201834bd7f71ed45702278">RemoveCliff</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         <span class="comment">// Update the cell&#39;s layer elevations</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#a1b6c61362ff510fc5b45f10e9ad10be7">CalcAllLayerElevsAndD50</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;         <span class="comment">// And update the cell&#39;s sea depth</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#ab445c2aab1f807824fc4dc432fabfb72">SetSeaDepth</a>();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">//         cout &lt;&lt; m_ulIter &lt;&lt; &quot;: cell [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] after removing cliff, dGetVolEquivSedTopElev() = &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetVolEquivSedTopElev() &lt;&lt; &quot;, dGetSedimentTopElev() = &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetSedimentTopElev() &lt;&lt; endl;</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//         cout &lt;&lt; m_ulIter &lt;&lt; &quot;: cell [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] is no longer a cliff&quot; &lt;&lt; endl &lt;&lt; endl;</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         <span class="comment">// Still some sediment available in this cliff object, so store the attribute values in the cell</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a6877301af94f663f342249dfec1b93b5">SetCliffNotchBaseElev</a>(dNotchBaseElev);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a9124e31d575f2a2724d9565041d9afb6">SetCliffNotchOverhang</a>(dNotchOverhang);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#aa8d4d835b4b0a0d9d8f067ae41aa04a9">SetCliffRemaining</a>(dRemaining);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">//          LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: STILL CLIFF [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} is still a cliff landform, dRemaining = &quot; &lt;&lt; dRemaining &lt;&lt; endl;</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">// Always accumulate wave energy</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>()-&gt;<a class="code" href="class_c_r_w_cell_landform.html#abd409068ef909c26ff8ede3d7125b94d">SetAccumWaveEnergy</a>(pCliff-&gt;<a class="code" href="class_c_a_coast_landform.html#a4d8d2d9e96cbacba6ec6ba610c656879">dGetTotAccumWaveEnergy</a>());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nCategory == <a class="code" href="cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">// It&#39;s drift, so calculate D50 TODO</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">/*==============================================================================================================================</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> Each timestep, classify landforms for cells that are not on the coastline</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">===============================================================================================================================*/</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keywordtype">int</span> CSimulation::nAssignNonCoastlineLandforms(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="comment">// Go through all cells in the RasterGrid array</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nX = 0; nX &lt; m_nXGridMax; nX++)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nY = 0; nY &lt; m_nYGridMax; nY++)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         <span class="keywordflow">if</span> (m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#aec408a18eeffd11484779022733cd396">bBasementElevIsMissingValue</a>())</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;         <a class="code" href="class_c_r_w_cell_landform.html">CRWCellLandform</a>* pLandform = m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">pGetLandform</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;         <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code" href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;         <span class="keywordflow">if</span> (nCat == <a class="code" href="cme_8h.html#a14b47e1272cd63a7c770dca9ef08882d">LF_CAT_SEA</a>)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="comment">// Do nothing</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;         <span class="comment">// Ok, this is coast or inland</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;         <span class="keywordflow">if</span> (! m_pRasterGrid-&gt;m_Cell[nX][nY].<a class="code" href="class_c_geom_cell.html#adf6945cbe65da7210a2f5d49ef7f736e">bIsCoastline</a>())</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;         {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="comment">// Is not coastline</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> (nCat == <a class="code" href="cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;               <span class="comment">// This was a cliff during the last timestep, but it is no longer on the coastline. So classify it as a former cliff</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;               pLandform-&gt;<a class="code" href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code" href="cme_8h.html#a8c495740237a611fe331cd4d06a97ee0">LF_SUBCAT_CLIFF_INLAND</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: FORMER CLIFF CREATED from cliff landform [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;               <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">if</span> ((nCat == <a class="code" href="cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code" href="cme_8h.html#afb9499d46447e0115ed3abc66ce28a7d">LF_CAT_INTERVENTION</a>))</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;               <span class="comment">// Do nothing</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;               <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="comment">// It must be hinterland</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            pLandform-&gt;<a class="code" href="class_c_r_w_cell_landform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code" href="cme_8h.html#aea9af3c29f359fe6dddcd98a7bb4dc31">LF_CAT_HINTERLAND</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="aclass_c_a_coast_landform_html"><div class="ttname"><a href="class_c_a_coast_landform.html">CACoastLandform</a></div><div class="ttdoc">Abstract class, used as a base class for landform objects on the coastline.</div><div class="ttdef"><b>Definition:</b> <a href="coast__landform_8h_source.html#l00035">coast_landform.h:36</a></div></div>
<div class="ttc" id="aclass_c_a_coast_landform_html_a4d8d2d9e96cbacba6ec6ba610c656879"><div class="ttname"><a href="class_c_a_coast_landform.html#a4d8d2d9e96cbacba6ec6ba610c656879">CACoastLandform::dGetTotAccumWaveEnergy</a></div><div class="ttdeci">double dGetTotAccumWaveEnergy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="coast__landform_8cpp_source.html#l00077">coast_landform.cpp:77</a></div></div>
<div class="ttc" id="aclass_c_a_coast_landform_html_ac161cb56a83d653b651aa08173a1f1ca"><div class="ttname"><a href="class_c_a_coast_landform.html#ac161cb56a83d653b651aa08173a1f1ca">CACoastLandform::nGetLandFormCategory</a></div><div class="ttdeci">int nGetLandFormCategory(void) const</div><div class="ttdef"><b>Definition:</b> <a href="coast__landform_8cpp_source.html#l00057">coast_landform.cpp:57</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a1b6c61362ff510fc5b45f10e9ad10be7"><div class="ttname"><a href="class_c_geom_cell.html#a1b6c61362ff510fc5b45f10e9ad10be7">CGeomCell::CalcAllLayerElevsAndD50</a></div><div class="ttdeci">void CalcAllLayerElevsAndD50(void)</div><div class="ttdoc">For this cell: calculates the elevation of the top of every layer, and the d50 for the topmost uncons...</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00465">cell.cpp:465</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a1ecc8e7cd32f168781ff206f19c7615e"><div class="ttname"><a href="class_c_geom_cell.html#a1ecc8e7cd32f168781ff206f19c7615e">CGeomCell::nGetTopLayerAboveBasement</a></div><div class="ttdeci">int nGetTopLayerAboveBasement(void) const</div><div class="ttdoc">Returns the index of the topmost sediment layer (layer 0 being the one just above basement),...</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00342">cell.cpp:342</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a6387aaac391af63a9f2be1c809ce169c"><div class="ttname"><a href="class_c_geom_cell.html#a6387aaac391af63a9f2be1c809ce169c">CGeomCell::dGetSedimentTopElev</a></div><div class="ttdeci">double dGetSedimentTopElev(void) const</div><div class="ttdoc">Returns the true elevation of the sediment's top surface for this cell (if there is a cliff notch,...</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00389">cell.cpp:389</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a65dc08df7cf712555b94d91157431965"><div class="ttname"><a href="class_c_geom_cell.html#a65dc08df7cf712555b94d91157431965">CGeomCell::pGetLayerAboveBasement</a></div><div class="ttdeci">CRWCellLayer * pGetLayerAboveBasement(int const)</div><div class="ttdoc">Return a reference to the Nth sediment layer (layer 0 being just above basement)</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00369">cell.cpp:369</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a6d9ce76438644be9fe4aa5b4f7efea3e"><div class="ttname"><a href="class_c_geom_cell.html#a6d9ce76438644be9fe4aa5b4f7efea3e">CGeomCell::dGetInterventionHeight</a></div><div class="ttdeci">double dGetInterventionHeight(void) const</div><div class="ttdoc">Returns the intervention height.</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00865">cell.cpp:865</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_a861c4641b31bb1f920daa863a98ea35c"><div class="ttname"><a href="class_c_geom_cell.html#a861c4641b31bb1f920daa863a98ea35c">CGeomCell::nGetLayerAtElev</a></div><div class="ttdeci">int nGetLayerAtElev(double const) const</div><div class="ttdoc">Given an elevation, this finds the index of the layer that contains that elevation (layer 0 being the...</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00498">cell.cpp:498</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_ab445c2aab1f807824fc4dc432fabfb72"><div class="ttname"><a href="class_c_geom_cell.html#ab445c2aab1f807824fc4dc432fabfb72">CGeomCell::SetSeaDepth</a></div><div class="ttdeci">void SetSeaDepth(void)</div><div class="ttdoc">Returns the depth of seawater on this cell if the sediment top is &lt; SWL, or zero.</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00565">cell.cpp:565</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_ac5d9498617744cedb2c882fd2c2c6924"><div class="ttname"><a href="class_c_geom_cell.html#ac5d9498617744cedb2c882fd2c2c6924">CGeomCell::SetInContiguousSea</a></div><div class="ttdeci">void SetInContiguousSea(void)</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00097">cell.cpp:97</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_adf6945cbe65da7210a2f5d49ef7f736e"><div class="ttname"><a href="class_c_geom_cell.html#adf6945cbe65da7210a2f5d49ef7f736e">CGeomCell::bIsCoastline</a></div><div class="ttdeci">bool bIsCoastline(void) const</div><div class="ttdoc">Returns true if the cell is 'under' a coastline.</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00176">cell.cpp:176</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_aec408a18eeffd11484779022733cd396"><div class="ttname"><a href="class_c_geom_cell.html#aec408a18eeffd11484779022733cd396">CGeomCell::bBasementElevIsMissingValue</a></div><div class="ttdeci">bool bBasementElevIsMissingValue(void) const</div><div class="ttdoc">Returns true if this cells's basement data is NODATA, is needed for irregularly-shaped DEMs.</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00286">cell.cpp:286</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_af1321d6f96845f7933e6d7167267ed41"><div class="ttname"><a href="class_c_geom_cell.html#af1321d6f96845f7933e6d7167267ed41">CGeomCell::pGetLandform</a></div><div class="ttdeci">CRWCellLandform * pGetLandform(void)</div><div class="ttdoc">Returns a pointer to this cell's CRWCellLandform object.</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00254">cell.cpp:254</a></div></div>
<div class="ttc" id="aclass_c_geom_cell_html_af81bd1114fb19617a232c7a901366301"><div class="ttname"><a href="class_c_geom_cell.html#af81bd1114fb19617a232c7a901366301">CGeomCell::dGetConsSedTopForLayerAboveBasement</a></div><div class="ttdeci">double dGetConsSedTopForLayerAboveBasement(int const) const</div><div class="ttdoc">Returns the elevation of the top of the consolidated sediment only, for a given layer (layer 0 being ...</div><div class="ttdef"><b>Definition:</b> <a href="cell_8cpp_source.html#l00352">cell.cpp:352</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html"><div class="ttname"><a href="class_c_r_w_cell_landform.html">CRWCellLandform</a></div><div class="ttdoc">Real-world class used to represent the landform of a cell.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8h_source.html#l00030">cell_landform.h:31</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a3690af9ff283365f80221e193438d1ad"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a3690af9ff283365f80221e193438d1ad">CRWCellLandform::SetCoast</a></div><div class="ttdeci">void SetCoast(int const)</div><div class="ttdoc">Set the coast number.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00075">cell_landform.cpp:75</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a403cffc810566b8fe058b10275a04e32"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a403cffc810566b8fe058b10275a04e32">CRWCellLandform::dGetCliffRemaining</a></div><div class="ttdeci">double dGetCliffRemaining(void) const</div><div class="ttdoc">Get the cliff depth remaining on this cell.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00141">cell_landform.cpp:141</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a5350a7ac48d1eef3a78bef9bcf041b45"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a5350a7ac48d1eef3a78bef9bcf041b45">CRWCellLandform::nGetLFCategory</a></div><div class="ttdeci">int nGetLFCategory(void) const</div><div class="ttdoc">Get the landform category.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00050">cell_landform.cpp:50</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a6877301af94f663f342249dfec1b93b5"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a6877301af94f663f342249dfec1b93b5">CRWCellLandform::SetCliffNotchBaseElev</a></div><div class="ttdeci">void SetCliffNotchBaseElev(double const)</div><div class="ttdoc">Set cliff notch base elevation.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00111">cell_landform.cpp:111</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a80eb57f3526c1f5922f857803935bd61"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a80eb57f3526c1f5922f857803935bd61">CRWCellLandform::dGetAccumWaveEnergy</a></div><div class="ttdeci">double dGetAccumWaveEnergy(void) const</div><div class="ttdoc">Get accumulated wave energy.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00105">cell_landform.cpp:105</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a9124e31d575f2a2724d9565041d9afb6"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a9124e31d575f2a2724d9565041d9afb6">CRWCellLandform::SetCliffNotchOverhang</a></div><div class="ttdeci">void SetCliffNotchOverhang(double const)</div><div class="ttdoc">Set the cliff notch overhang which remains on this cell.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00123">cell_landform.cpp:123</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a9449e37adff5a6643b9c9addac60f30d"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a9449e37adff5a6643b9c9addac60f30d">CRWCellLandform::dGetCliffNotchBaseElev</a></div><div class="ttdeci">double dGetCliffNotchBaseElev(void) const</div><div class="ttdoc">Get cliff notch base elevation.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00117">cell_landform.cpp:117</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_a96ad45ae2ea374e73bd73e11020fe798"><div class="ttname"><a href="class_c_r_w_cell_landform.html#a96ad45ae2ea374e73bd73e11020fe798">CRWCellLandform::dGetCliffNotchOverhang</a></div><div class="ttdeci">double dGetCliffNotchOverhang(void) const</div><div class="ttdoc">Get the cliff notch overhang which remains on this cell.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00129">cell_landform.cpp:129</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_aa8d4d835b4b0a0d9d8f067ae41aa04a9"><div class="ttname"><a href="class_c_r_w_cell_landform.html#aa8d4d835b4b0a0d9d8f067ae41aa04a9">CRWCellLandform::SetCliffRemaining</a></div><div class="ttdeci">void SetCliffRemaining(double const)</div><div class="ttdoc">Set the cliff depth remaining on this cell.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00135">cell_landform.cpp:135</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_aaf631af6cb530503a8fc676d4296ac79"><div class="ttname"><a href="class_c_r_w_cell_landform.html#aaf631af6cb530503a8fc676d4296ac79">CRWCellLandform::SetLFCategory</a></div><div class="ttdeci">void SetLFCategory(int const)</div><div class="ttdoc">Set the landform category and initialise the sub-category.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00043">cell_landform.cpp:43</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_ab3563c3cc3cd8bee90bfbb4ff558310c"><div class="ttname"><a href="class_c_r_w_cell_landform.html#ab3563c3cc3cd8bee90bfbb4ff558310c">CRWCellLandform::SetPointOnCoast</a></div><div class="ttdeci">void SetPointOnCoast(int const)</div><div class="ttdoc">Set the number of the point on the coastline.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00087">cell_landform.cpp:87</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_abd409068ef909c26ff8ede3d7125b94d"><div class="ttname"><a href="class_c_r_w_cell_landform.html#abd409068ef909c26ff8ede3d7125b94d">CRWCellLandform::SetAccumWaveEnergy</a></div><div class="ttdeci">void SetAccumWaveEnergy(double const)</div><div class="ttdoc">Set accumulated wave energy.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00099">cell_landform.cpp:99</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_landform_html_af53d3fe69c297cfb0b41d03e55ed6467"><div class="ttname"><a href="class_c_r_w_cell_landform.html#af53d3fe69c297cfb0b41d03e55ed6467">CRWCellLandform::SetLFSubCategory</a></div><div class="ttdeci">void SetLFSubCategory(int const)</div><div class="ttdoc">Set the both the landform sub-category, and the landform category.</div><div class="ttdef"><b>Definition:</b> <a href="cell__landform_8cpp_source.html#l00056">cell_landform.cpp:56</a></div></div>
<div class="ttc" id="aclass_c_r_w_cell_layer_html_aabad3a69d7201834bd7f71ed45702278"><div class="ttname"><a href="class_c_r_w_cell_layer.html#aabad3a69d7201834bd7f71ed45702278">CRWCellLayer::RemoveCliff</a></div><div class="ttdeci">void RemoveCliff(void)</div><div class="ttdef"><b>Definition:</b> <a href="cell__layer_8cpp_source.html#l00047">cell_layer.cpp:47</a></div></div>
<div class="ttc" id="aclass_c_r_w_cliff_html"><div class="ttname"><a href="class_c_r_w_cliff.html">CRWCliff</a></div><div class="ttdoc">Real-world class used to represent the 'cliff' category of coastal landform object.</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8h_source.html#l00035">cliff.h:36</a></div></div>
<div class="ttc" id="aclass_c_r_w_cliff_html_a274e3f5cd68331c6294496cf1da84371"><div class="ttname"><a href="class_c_r_w_cliff.html#a274e3f5cd68331c6294496cf1da84371">CRWCliff::bAllSedimentGone</a></div><div class="ttdeci">bool bAllSedimentGone(void) const</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8cpp_source.html#l00070">cliff.cpp:70</a></div></div>
<div class="ttc" id="aclass_c_r_w_cliff_html_a70151d708b933a25eb7836d63cea7f8b"><div class="ttname"><a href="class_c_r_w_cliff.html#a70151d708b933a25eb7836d63cea7f8b">CRWCliff::dGetNotchBaseElev</a></div><div class="ttdeci">double dGetNotchBaseElev(void) const</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8cpp_source.html#l00080">cliff.cpp:80</a></div></div>
<div class="ttc" id="aclass_c_r_w_cliff_html_abdce12006e217f4d250bf00a95026264"><div class="ttname"><a href="class_c_r_w_cliff.html#abdce12006e217f4d250bf00a95026264">CRWCliff::dGetRemaining</a></div><div class="ttdeci">double dGetRemaining(void) const</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8cpp_source.html#l00095">cliff.cpp:95</a></div></div>
<div class="ttc" id="aclass_c_r_w_cliff_html_ad9493fc02ecb5893c165915d385f3174"><div class="ttname"><a href="class_c_r_w_cliff.html#ad9493fc02ecb5893c165915d385f3174">CRWCliff::dGetNotchOverhang</a></div><div class="ttdeci">double dGetNotchOverhang(void) const</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8cpp_source.html#l00105">cliff.cpp:105</a></div></div>
<div class="ttc" id="aclass_c_r_w_drift_html"><div class="ttname"><a href="class_c_r_w_drift.html">CRWDrift</a></div><div class="ttdoc">Real-world class used to represent the 'drift' category of coastal landform object.</div><div class="ttdef"><b>Definition:</b> <a href="drift_8h_source.html#l00035">drift.h:36</a></div></div>
<div class="ttc" id="aclass_c_r_w_intervention_html"><div class="ttname"><a href="class_c_r_w_intervention.html">CRWIntervention</a></div><div class="ttdoc">Real-world class used to represent the 'intervention' category of coastal landform objects.</div><div class="ttdef"><b>Definition:</b> <a href="intervention_8h_source.html#l00035">intervention.h:36</a></div></div>
<div class="ttc" id="aclass_c_simulation_html_a222962121613613a48f518e0c2110f21"><div class="ttname"><a href="class_c_simulation.html#a222962121613613a48f518e0c2110f21">CSimulation::LogStream</a></div><div class="ttdeci">ofstream LogStream</div><div class="ttdef"><b>Definition:</b> <a href="simulation_8h_source.html#l00806">simulation.h:806</a></div></div>
<div class="ttc" id="acliff_8h_html"><div class="ttname"><a href="cliff_8h.html">cliff.h</a></div><div class="ttdoc">Contains CRWCliff definitions.</div></div>
<div class="ttc" id="acme_8h_html"><div class="ttname"><a href="cme_8h.html">cme.h</a></div><div class="ttdoc">This file contains global definitions for CoastalME.</div></div>
<div class="ttc" id="acme_8h_html_a01aa8b423260b337ddff2016107b51a0"><div class="ttname"><a href="cme_8h.html#a01aa8b423260b337ddff2016107b51a0">INT_NODATA</a></div><div class="ttdeci">int const INT_NODATA</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00188">cme.h:188</a></div></div>
<div class="ttc" id="acme_8h_html_a0af2b64c1c33dbf4d223944b0bf234e6"><div class="ttname"><a href="cme_8h.html#a0af2b64c1c33dbf4d223944b0bf234e6">RTN_ERR_NO_TOP_LAYER</a></div><div class="ttdeci">int const RTN_ERR_NO_TOP_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00404">cme.h:404</a></div></div>
<div class="ttc" id="acme_8h_html_a14b47e1272cd63a7c770dca9ef08882d"><div class="ttname"><a href="cme_8h.html#a14b47e1272cd63a7c770dca9ef08882d">LF_CAT_SEA</a></div><div class="ttdeci">int const LF_CAT_SEA</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00230">cme.h:230</a></div></div>
<div class="ttc" id="acme_8h_html_a159c5886feeb5802c0a13e16843d0edb"><div class="ttname"><a href="cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a></div><div class="ttdeci">int const LF_SUBCAT_CLIFF_ON_COASTLINE</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00236">cme.h:236</a></div></div>
<div class="ttc" id="acme_8h_html_a1a0f3745fbc2e50a9f483893339c9f75"><div class="ttname"><a href="cme_8h.html#a1a0f3745fbc2e50a9f483893339c9f75">ELEV_ABOVE_SEDIMENT_TOP</a></div><div class="ttdeci">int const ELEV_ABOVE_SEDIMENT_TOP</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00427">cme.h:427</a></div></div>
<div class="ttc" id="acme_8h_html_a48ef8882a05bbb7c4fe8e35065e06ee4"><div class="ttname"><a href="cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a></div><div class="ttdeci">int const LF_CAT_DRIFT</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00232">cme.h:232</a></div></div>
<div class="ttc" id="acme_8h_html_a8c495740237a611fe331cd4d06a97ee0"><div class="ttname"><a href="cme_8h.html#a8c495740237a611fe331cd4d06a97ee0">LF_SUBCAT_CLIFF_INLAND</a></div><div class="ttdeci">int const LF_SUBCAT_CLIFF_INLAND</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00237">cme.h:237</a></div></div>
<div class="ttc" id="acme_8h_html_aa768cb14b5c6123ee95e6e4ebd9fe331"><div class="ttname"><a href="cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a></div><div class="ttdeci">int const RTN_OK</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00358">cme.h:358</a></div></div>
<div class="ttc" id="acme_8h_html_ac006049b50f3bab64858fe746d6733c8"><div class="ttname"><a href="cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a></div><div class="ttdeci">int const LF_SUBCAT_DRIFT_MIXED</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00240">cme.h:240</a></div></div>
<div class="ttc" id="acme_8h_html_acb2ce7af39512b19a2ea1b3b0826aca2"><div class="ttname"><a href="cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a></div><div class="ttdeci">int const RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00408">cme.h:408</a></div></div>
<div class="ttc" id="acme_8h_html_aced815d3e3aed93353376983f4295d75"><div class="ttname"><a href="cme_8h.html#aced815d3e3aed93353376983f4295d75">ELEV_IN_BASEMENT</a></div><div class="ttdeci">int const ELEV_IN_BASEMENT</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00426">cme.h:426</a></div></div>
<div class="ttc" id="acme_8h_html_ad6be96d3be217d31a74c2412d7e6cbbb"><div class="ttname"><a href="cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a></div><div class="ttdeci">int const LF_CAT_CLIFF</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00231">cme.h:231</a></div></div>
<div class="ttc" id="acme_8h_html_aea9af3c29f359fe6dddcd98a7bb4dc31"><div class="ttname"><a href="cme_8h.html#aea9af3c29f359fe6dddcd98a7bb4dc31">LF_CAT_HINTERLAND</a></div><div class="ttdeci">int const LF_CAT_HINTERLAND</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00229">cme.h:229</a></div></div>
<div class="ttc" id="acme_8h_html_afb9499d46447e0115ed3abc66ce28a7d"><div class="ttname"><a href="cme_8h.html#afb9499d46447e0115ed3abc66ce28a7d">LF_CAT_INTERVENTION</a></div><div class="ttdeci">int const LF_CAT_INTERVENTION</div><div class="ttdef"><b>Definition:</b> <a href="cme_8h_source.html#l00233">cme.h:233</a></div></div>
<div class="ttc" id="acoast_8h_html"><div class="ttname"><a href="coast_8h.html">coast.h</a></div><div class="ttdoc">Contains CRWCoast definitions.</div></div>
<div class="ttc" id="adrift_8h_html"><div class="ttname"><a href="drift_8h.html">drift.h</a></div><div class="ttdoc">Contains CRWDrift definitions.</div></div>
<div class="ttc" id="aintervention_8h_html"><div class="ttname"><a href="intervention_8h.html">intervention.h</a></div><div class="ttdoc">Contains CRWIntervention definitions.</div></div>
<div class="ttc" id="asimulation_8h_html"><div class="ttname"><a href="simulation_8h.html">simulation.h</a></div><div class="ttdoc">Contains CSimulation definitions.</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 29 2021 15:52:59 for CoastalME (Coastal Modelling Environment) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
